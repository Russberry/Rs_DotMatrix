#include <stdint.h>


#define CMD_DecodeMode 0x09
#define CMD_Intensity 0x0A
#define CMD_ScanLimit 0x0B
#define CMD_Shutdown 0x0C
#define CMD_TestMode 0x0F

class Rs_DotMatrix 
{ 
    public:
        Rs_DotMatrix(uint8_t CS, uint8_t intensity);

        void ClearDisplay();
        void SetIntensity(uint8_t intensity);
        void DisplayOff();
        void DisplayOn();
        void PrintChar(char input);
        void PrintString(char *str, uint16_t durationms = 1000);
        void PrintScrollString(char *str, uint16_t durationms = 1000);
    private:
        void Write(uint8_t cmd, uint8_t data);
        uint8_t Convert2Idx(char input);
        uint8_t _CS;
        const uint8_t FONT[64][8] = {
            {
            0b00000000,
            0b00111100,
            0b01100110,
            0b01101110,
            0b01110110,
            0b01100110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b00011000,
            0b00011000,
            0b00111000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b01111110
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b00000110,
            0b00001100,
            0b00110000,
            0b01100000,
            0b01111110
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b00000110,
            0b00011100,
            0b00000110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b00001100,
            0b00011100,
            0b00101100,
            0b01001100,
            0b01111110,
            0b00001100,
            0b00001100
            },{
            0b00000000,
            0b01111110,
            0b01100000,
            0b01111100,
            0b00000110,
            0b00000110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b01111110,
            0b01100110,
            0b00001100,
            0b00001100,
            0b00011000,
            0b00011000,
            0b00011000
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100110,
            0b00111100,
            0b01100110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100110,
            0b00111110,
            0b00000110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100110,
            0b01111110,
            0b01100110,
            0b01100110,
            0b01100110
            },{
            0b00000000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01111100
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100000,
            0b01100000,
            0b01100000,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01111100
            },{
            0b00000000,
            0b01111110,
            0b01100000,
            0b01100000,
            0b01111100,
            0b01100000,
            0b01100000,
            0b01111110
            },{
            0b00000000,
            0b01111110,
            0b01100000,
            0b01100000,
            0b01111100,
            0b01100000,
            0b01100000,
            0b01100000
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100000,
            0b01100000,
            0b01101110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01111110,
            0b01100110,
            0b01100110,
            0b01100110
            },{
            0b00000000,
            0b00111100,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00111100
            },{
            0b00000000,
            0b00011110,
            0b00001100,
            0b00001100,
            0b00001100,
            0b01101100,
            0b01101100,
            0b00111000
            },{
            0b00000000,
            0b01100110,
            0b01101100,
            0b01111000,
            0b01110000,
            0b01111000,
            0b01101100,
            0b01100110
            },{
            0b00000000,
            0b01100000,
            0b01100000,
            0b01100000,
            0b01100000,
            0b01100000,
            0b01100000,
            0b01111110
            },{
            0b00000000,
            0b01100011,
            0b01110111,
            0b01111111,
            0b01101011,
            0b01100011,
            0b01100011,
            0b01100011
            },{
            0b00000000,
            0b01100011,
            0b01110011,
            0b01111011,
            0b01101111,
            0b01100111,
            0b01100011,
            0b01100011
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01111100,
            0b01100000,
            0b01100000
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01101110,
            0b00111100,
            0b00000110
            },{
            0b00000000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01111100,
            0b01111000,
            0b01101100,
            0b01100110
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100000,
            0b00111100,
            0b00000110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b01111110,
            0b01011010,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00011000
            },{
            0b00000000,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b00111110
            },{
            0b00000000,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b00111100,
            0b00011000
            },{
            0b00000000,
            0b01100011,
            0b01100011,
            0b01100011,
            0b01101011,
            0b01111111,
            0b01110111,
            0b01100011
            },{
            0b00000000,
            0b01100011,
            0b01100011,
            0b00110110,
            0b00011100,
            0b00110110,
            0b01100011,
            0b01100011
            },{
            0b00000000,
            0b01100110,
            0b01100110,
            0b01100110,
            0b00111100,
            0b00011000,
            0b00011000,
            0b00011000
            },{
            0b00000000,
            0b01111110,
            0b00000110,
            0b00001100,
            0b00011000,
            0b00110000,
            0b01100000,
            0b01111110
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b00000000,
            0b00000000,
            0b00000000,
            0b00000000,
            0b00000000
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b00111100,
            0b00000110,
            0b00111110,
            0b01100110,
            0b00111110
            },{
            0b00000000,
            0b01100000,
            0b01100000,
            0b01100000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01111100
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100000,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b00000110,
            0b00000110,
            0b00000110,
            0b00111110,
            0b01100110,
            0b01100110,
            0b00111110
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b00111100,
            0b01100110,
            0b01111110,
            0b01100000,
            0b00111100
            },{
            0b00000000,
            0b00011100,
            0b00110110,
            0b00110000,
            0b00110000,
            0b01111100,
            0b00110000,
            0b00110000
            },{
            0b00000000,
            0b00000000,
            0b00111110,
            0b01100110,
            0b01100110,
            0b00111110,
            0b00000110,
            0b00111100
            },{
            0b00000000,
            0b01100000,
            0b01100000,
            0b01100000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01100110
            },{
            0b00000000,
            0b00000000,
            0b00011000,
            0b00000000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00111100
            },{
            0b00000000,
            0b00001100,
            0b00000000,
            0b00001100,
            0b00001100,
            0b01101100,
            0b01101100,
            0b00111000
            },{
            0b00000000,
            0b01100000,
            0b01100000,
            0b01100110,
            0b01101100,
            0b01111000,
            0b01101100,
            0b01100110
            },{
            0b00000000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00011000,
            0b00011000
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b01100011,
            0b01110111,
            0b01111111,
            0b01101011,
            0b01101011
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b01111100,
            0b01111110,
            0b01100110,
            0b01100110,
            0b01100110
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b00111100,
            0b01100110,
            0b01100110,
            0b01100110,
            0b00111100
            },{
            0b00000000,
            0b00000000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01111100,
            0b01100000,
            0b01100000
            },{
            0b00000000,
            0b00000000,
            0b00111100,
            0b01101100,
            0b01101100,
            0b00111100,
            0b00001101,
            0b00001111
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b01111100,
            0b01100110,
            0b01100110,
            0b01100000,
            0b01100000
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b00111110,
            0b01000000,
            0b00111100,
            0b00000010,
            0b01111100
            },{
            0b00000000,
            0b00000000,
            0b00011000,
            0b00011000,
            0b01111110,
            0b00011000,
            0b00011000,
            0b00011000
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b01100110,
            0b01100110,
            0b01100110,
            0b01100110,
            0b00111110
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b00000000,
            0b01100110,
            0b01100110,
            0b00111100,
            0b00011000
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b01100011,
            0b01101011,
            0b01101011,
            0b01101011,
            0b00111110
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b01100110,
            0b00111100,
            0b00011000,
            0b00111100,
            0b01100110
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b01100110,
            0b01100110,
            0b00111110,
            0b00000110,
            0b00111100
            },{
            0b00000000,
            0b00000000,
            0b00000000,
            0b00111100,
            0b00001100,
            0b00011000,
            0b00110000,
            0b00111100
            },{
            0b00000000,
            0b00111100,
            0b01100110,
            0b00000110,
            0b00011100,
            0b00011000,
            0b00000000,
            0b00011000
            }
        };

};